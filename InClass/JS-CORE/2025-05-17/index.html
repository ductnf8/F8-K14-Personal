<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    .autocomplete {
        width: 350px;
        margin: auto;
    }
    .autocomplete input {
        padding: 12px;
        font-size: 22px;
        width: 100%;
    }
    .autocomplete .dropdown {
        font-size: 20px;
        box-shadow: 0 0 4px #ccc;
        height: 200px;
        overflow-y: scroll;
    }
    .dropdown-item {
        padding: 8px;
    }
</style>

<body>
<div class="autocomplete">
    <input placeholder="province"/>
    <div class="dropdown">
    </div>
</div>

<script>
    const autocomplete = document.querySelector('.autocomplete')

    const items = [
        "Ha Noi",
        "Ha Nam",
        "Vinh Phuc",
        "Phu Tho",
        "Bac Blinh",
        "Bac Giang",
        "Vinh Phuc",
        "Phu Tho",
        "Bac Blinh",
        "Bac Giang"
    ]
    let cursor =null
    const container = document.querySelector(".dropdown");

    const renderDropdown = (items) => {
        container.innerHTML = ''
        items.forEach(item => {
            const div = document.createElement("div");
            div.className = "dropdown-item";
            div.textContent = item;
            container.appendChild(div);
        });
    }

    const inputE = document.querySelector('input')
    inputE.addEventListener('input', (e) => {
        // filter dropdown
        const searchStr = inputE.value.toLowerCase()
        const filteredItems = items.filter(item => item.toLowerCase().includes(searchStr))
        renderDropdown(filteredItems)
    })

    const resetBackground = () => {
        const itemsE = document.querySelectorAll('.dropdown-item')
        itemsE.forEach(itemE => {
            itemE.style.background = '#fff'
        })
    }


    inputE.addEventListener('keydown',  (e) => {
        if(e.key === 'ArrowDown'){
            if(cursor === null) cursor =0
            else cursor++

            resetBackground()
            const itemE = document.querySelector(`.dropdown-item:nth-child(${cursor+1})`)
            itemE.style.background = '#ccc'
        }
    })

    renderDropdown(items)
</script>
</body>
</html>